[DEFAULT]
STEPS_LARIAT = raw slicer blreco reco2D
LARSOFT_REFERENCE_VERSION=default
BASEFILENAME_LARIAT=lariat_r006099_sr0504
EXPCODE_LARIAT=lariatsoft
EXPSCRIPT_LARIAT=ci_regression_test_lariatsoft.sh
INPUTFILEDIR_LARIAT=/pnfs/lariat/scratch/users/vito/ci_tests_inputfiles

[test_runner]
parallel_limit=20

[test ci_slicer_regression_test_lariatsoft]
script=${LARIATSOFT_DIR}/test/%(EXPSCRIPT_LARIAT)s
STEP=1
NEVENTS=1
args=%(NEVENTS)s %(STEP)s %(LARSOFT_REFERENCE_VERSION)s %(BASEFILENAME_LARIAT)s %(EXPCODE_LARIAT)s %(STEPS_LARIAT)s
inputfiles=%(INPUTFILEDIR_LARIAT)s/%(BASEFILENAME_LARIAT)s_Reference_slicer_%(LARSOFT_REFERENCE_VERSION)s.root %(INPUTFILEDIR_LARIAT)s/%(BASEFILENAME_LARIAT)s_Reference_raw_%(LARSOFT_REFERENCE_VERSION)s.root %(INPUTFILEDIR_LARIAT)s/testmaskLinux.txt %(INPUTFILEDIR_LARIAT)s/testmaskDarwin.txt
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_blreco_regression_test_lariatsoft]
script=${LARIATSOFT_DIR}/test/%(EXPSCRIPT_LARIAT)s
STEP=2
NEVENTS=1
args=%(NEVENTS)s %(STEP)s %(LARSOFT_REFERENCE_VERSION)s %(BASEFILENAME_LARIAT)s %(EXPCODE_LARIAT)s %(STEPS_LARIAT)s
inputfiles=%(INPUTFILEDIR_LARIAT)s/%(BASEFILENAME_LARIAT)s_Reference_blreco_%(LARSOFT_REFERENCE_VERSION)s.root %(INPUTFILEDIR_LARIAT)s/%(BASEFILENAME_LARIAT)s_Reference_slicer_%(LARSOFT_REFERENCE_VERSION)s.root %(INPUTFILEDIR_LARIAT)s/testmaskLinux.txt %(INPUTFILEDIR_LARIAT)s/testmaskDarwin.txt
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_reco2D_regression_test_lariatsoft]
script=${LARIATSOFT_DIR}/test/%(EXPSCRIPT_LARIAT)s
STEP=3
NEVENTS=1
args=%(NEVENTS)s %(STEP)s %(LARSOFT_REFERENCE_VERSION)s %(BASEFILENAME_LARIAT)s %(EXPCODE_LARIAT)s %(STEPS_LARIAT)s
inputfiles=%(INPUTFILEDIR_LARIAT)s/%(BASEFILENAME_LARIAT)s_Reference_reco2D_%(LARSOFT_REFERENCE_VERSION)s.root %(INPUTFILEDIR_LARIAT)s/%(BASEFILENAME_LARIAT)s_Reference_blreco_%(LARSOFT_REFERENCE_VERSION)s.root %(INPUTFILEDIR_LARIAT)s/testmaskLinux.txt %(INPUTFILEDIR_LARIAT)s/testmaskDarwin.txt
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000



[suite quick_test_lariatsoft]
testlist=ci_slicer_regression_test_lariatsoft ci_blreco_regression_test_lariatsoft ci_reco2D_regression_test_lariatsoft
